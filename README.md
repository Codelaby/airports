# Repositorio de Datos de Aeropuertos

Este repositorio contiene datos relacionados con aeropuertos que pueden utilizarse para crear tablas en una base de datos PostgreSQL. Los datos incluyen información sobre la identificación de los aeropuertos, su tipo, nombre, elevación, continente, país, región, municipio y más.

## Tablas de la Base de Datos

### Tabla de Aeropuertos (public.airports)

Esta tabla contiene información detallada sobre los aeropuertos. A continuación, se muestran las columnas de la tabla:

- `ident` (Texto nulo): Identificación del aeropuerto.
- `type` (Texto nulo): Tipo de aeropuerto.
- `name` (Texto nulo): Nombre del aeropuerto.
- `elevation_ft` (Texto nulo): Elevación en pies.
- `continent` (Texto nulo): Continente en el que se encuentra el aeropuerto.
- `iso_country` (Texto nulo): Código ISO del país.
- `iso_region` (Texto nulo): Código ISO de la región.
- `municipality` (Texto nulo): Municipio en el que se encuentra el aeropuerto.
- `scheduled_service` (Texto nulo): Servicio programado.
- `gps_code` (Texto nulo): Código GPS del aeropuerto.
- `iata_code` (Texto nulo): Código IATA del aeropuerto.
- `local_code` (Texto nulo): Código local del aeropuerto.
- `home_link` (Texto nulo): Enlace a la página web del aeropuerto.
- `wikipedia_link` (Texto nulo): Enlace a la página de Wikipedia del aeropuerto.
- `keywords` (Texto nulo): Palabras clave relacionadas con el aeropuerto.
- `id` (Identidad, BigInt): Identificador único de la tabla.
- `location` (Geografía nula): Ubicación geográfica del aeropuerto.
- `geohash` (Texto nulo): Geohash del aeropuerto.

### SQL
```sql
create table
  public.airports (
    ident text null,
    type text null,
    name text null,
    elevation_ft text null,
    continent text null,
    iso_country text null,
    iso_region text null,
    municipality text null,
    scheduled_service text null,
    gps_code text null,
    iata_code text null,
    local_code text null,
    home_link text null,
    wikipedia_link text null,
    keywords text null,
    id bigint generated by default as identity,
    location geography null,
    geohash text null,
    constraint airports_pkey primary key (id),
    constraint airports_index_key unique (id)
  ) tablespace pg_default;

create index if not exists airport_geo_index on public.airports using gist (location) tablespace pg_default;

create index if not exists idx_geohash on public.airports using btree (geohash) tablespace pg_default;
```

### Tabla de IATA Extendida (public.iata_ext)

Esta tabla contiene información extendida sobre los aeropuertos utilizando el código IATA. A continuación, se muestran las columnas de la tabla:

- `id` (Texto no nulo): Identificación única del aeropuerto (IATA).
- `name` (Texto nulo): Nombre del aeropuerto.
- `city` (Texto nulo): Ciudad del aeropuerto.
- `city2` (Texto nulo): Segunda ciudad relacionada con el aeropuerto.
- `country` (Texto nulo): País en el que se encuentra el aeropuerto.
- `description` (Texto nulo): Descripción del aeropuerto.
- `imageCredit` (Texto nulo): Crédito de la imagen del aeropuerto.
- `imageCreditLink` (Texto nulo): Enlace al crédito de la imagen del aeropuerto.
- `state` (Texto nulo): Estado o provincia del aeropuerto.
- `stateShort` (Texto nulo): Abreviatura del estado o provincia.
- `nameEnglish` (Texto nulo): Nombre en inglés del aeropuerto.
- `name2` (Texto nulo): Segundo nombre del aeropuerto.
- `city3` (Texto nulo): Tercera ciudad relacionada con el aeropuerto.
- `code` (Texto nulo): Código del aeropuerto.

### SQL
```sql
create table
  public.iata_ext (
    id text not null,
    name text null,
    city text null,
    city2 text null,
    country text null,
    description text null,
    "imageCredit" text null,
    "imageCreditLink" text null,
    state text null,
    "stateShort" text null,
    "nameEnglish" text null,
    name2 text null,
    city3 text null,
    code text null,
    constraint iata_ext_pkey primary key (id),
    constraint iata_ext_id_key unique (id)
  ) tablespace pg_default;
```

## Índices de la Base de Datos

- Se ha creado un índice espacial en la tabla de aeropuertos para la columna `location` utilizando el método GIST.
- Se ha creado un índice en la tabla de aeropuertos para la columna `geohash` utilizando el método B-Tree.


## Uso

Estos datos pueden ser utilizados para crear y poblar tablas en una base de datos PostgreSQL. Asegúrate de respetar las restricciones y las claves únicas definidas en las tablas.

### Búsqueda de Aeropuertos Cercanos a Barcelona

Para obtener una lista de aeropuertos cercanos a Barcelona, con coordenadas geográficas aproximadas de longitud 2.170171 y latitud 41.387077, puedes utilizar la siguiente consulta SQL:

```sql
SELECT *
FROM public.airports
WHERE ST_DWithin(location, ST_SetSRID(ST_Point(2.170171, 41.387077), 4326), 30000);
```

Esta consulta utiliza la función `ST_DWithin` de PostgreSQL para encontrar aeropuertos que se encuentren dentro de un radio de 30,000 metros (30 kilómetros) de las coordenadas especificadas de Barcelona. Los resultados te proporcionarán información detallada sobre los aeropuertos cercanos, incluyendo su ubicación geográfica.


## Contribuciones

Si deseas contribuir o realizar mejoras en estos datos, te animamos a hacerlo. Siéntete libre de enviar una solicitud de extracción (pull request) o informar de problemas (issues) relacionados con los datos.

## Licencia

Este conjunto de datos se proporciona bajo la siguiente licencia: [MIT License](LICENSE.md).
