# Repositorio de Datos de Aeropuertos

Este repositorio contiene datos relacionados con aeropuertos que pueden utilizarse para crear tablas en una base de datos PostgreSQL. Los datos incluyen información sobre la identificación de los aeropuertos, su tipo, nombre, elevación, continente, país, región, municipio y más.

## Tablas de la Base de Datos

### Tabla de Aeropuertos (public.airports)

Esta tabla contiene información detallada sobre los aeropuertos. A continuación, se muestran las columnas de la tabla:

- `ident` (Texto nulo): Identificación del aeropuerto.
- `type` (Texto nulo): Tipo de aeropuerto.
- `name` (Texto nulo): Nombre del aeropuerto.
- `elevation_ft` (Texto nulo): Elevación en pies.
- `continent` (Texto nulo): Continente en el que se encuentra el aeropuerto.
- `iso_country` (Texto nulo): Código ISO del país.
- `iso_region` (Texto nulo): Código ISO de la región.
- `municipality` (Texto nulo): Municipio en el que se encuentra el aeropuerto.
- `scheduled_service` (Texto nulo): Servicio programado.
- `gps_code` (Texto nulo): Código GPS del aeropuerto.
- `iata_code` (Texto nulo): Código IATA del aeropuerto.
- `local_code` (Texto nulo): Código local del aeropuerto.
- `home_link` (Texto nulo): Enlace a la página web del aeropuerto.
- `wikipedia_link` (Texto nulo): Enlace a la página de Wikipedia del aeropuerto.
- `keywords` (Texto nulo): Palabras clave relacionadas con el aeropuerto.
- `id` (Identidad, BigInt): Identificador único de la tabla.
- `location` (Geografía nula): Ubicación geográfica del aeropuerto.
- `geohash` (Texto nulo): Geohash del aeropuerto.

### SQL
```sql
create table
  public.airports (
    ident text null,
    type text null,
    name text null,
    elevation_ft text null,
    continent text null,
    iso_country text null,
    iso_region text null,
    municipality text null,
    scheduled_service text null,
    gps_code text null,
    iata_code text null,
    local_code text null,
    home_link text null,
    wikipedia_link text null,
    keywords text null,
    id bigint generated by default as identity,
    location geography null,
    geohash text null,
    constraint airports_pkey primary key (id),
    constraint airports_index_key unique (id)
  ) tablespace pg_default;

create index if not exists airport_geo_index on public.airports using gist (location) tablespace pg_default;

create index if not exists idx_geohash on public.airports using btree (geohash) tablespace pg_default;
```

### Tabla de IATA Extendida (public.iata_ext)

Esta tabla contiene información extendida sobre los aeropuertos utilizando el código IATA. A continuación, se muestran las columnas de la tabla:

- `id` (Texto no nulo): Identificación única del aeropuerto (IATA).
- `name` (Texto nulo): Nombre del aeropuerto.
- `city` (Texto nulo): Ciudad del aeropuerto.
- `city2` (Texto nulo): Segunda ciudad relacionada con el aeropuerto.
- `country` (Texto nulo): País en el que se encuentra el aeropuerto.
- `description` (Texto nulo): Descripción del aeropuerto.
- `imageCredit` (Texto nulo): Crédito de la imagen del aeropuerto.
- `imageCreditLink` (Texto nulo): Enlace al crédito de la imagen del aeropuerto.
- `state` (Texto nulo): Estado o provincia del aeropuerto.
- `stateShort` (Texto nulo): Abreviatura del estado o provincia.
- `nameEnglish` (Texto nulo): Nombre en inglés del aeropuerto.
- `name2` (Texto nulo): Segundo nombre del aeropuerto.
- `city3` (Texto nulo): Tercera ciudad relacionada con el aeropuerto.
- `code` (Texto nulo): Código del aeropuerto.

### SQL
```sql
create table
  public.iata_ext (
    id text not null,
    name text null,
    city text null,
    city2 text null,
    country text null,
    description text null,
    "imageCredit" text null,
    "imageCreditLink" text null,
    state text null,
    "stateShort" text null,
    "nameEnglish" text null,
    name2 text null,
    city3 text null,
    code text null,
    constraint iata_ext_pkey primary key (id),
    constraint iata_ext_id_key unique (id)
  ) tablespace pg_default;
```

## Índices de la Base de Datos

- Se ha creado un índice espacial en la tabla de aeropuertos para la columna `location` utilizando el método GIST.
- Se ha creado un índice en la tabla de aeropuertos para la columna `geohash` utilizando el método B-Tree.

### Relleno de Datos a Través de CSV en el Dashboard de Supabase

Los datos que necesitas están disponibles en los archivos CSV ubicados en la carpeta correspondiente. Puedes acceder a los datos de los aeropuertos en el archivo "airports_rows.csv" y los datos relacionados con códigos IATA en el archivo "iata_ext_rows.csv". Estos archivos contienen la información que necesitas para llenar las tablas correspondientes en tu base de datos.

Supabase ofrece una forma sencilla y eficiente de llenar tus tablas con datos utilizando archivos CSV a través de su intuitivo dashboard. Sigue estos pasos para importar datos mediante un archivo CSV:

1. **Iniciar Sesión en Supabase**: Accede al panel de control de Supabase utilizando tus credenciales de inicio de sesión.

2. **Seleccionar el Proyecto**: En el panel de control, selecciona el proyecto en el que deseas cargar los datos.

3. **Navegar a la Tabla**: Dirígete a la tabla específica en la que deseas importar los datos. Si la tabla aún no está creada, puedes crear una nueva desde el dashboard de Supabase.

4. **Importar Datos**: Una vez en la tabla, busca la opción de importar datos. Por lo general, se encuentra en el menú o barra de herramientas, identificada como "Importar" o "Cargar Datos".

5. **Seleccionar Archivo CSV**: Haz clic en "Seleccionar Archivo" y elige el archivo CSV que contiene los datos que deseas cargar en la tabla. Asegúrate de que el formato del archivo CSV sea correcto y que coincida con la estructura de la tabla.

6. **Mapeo de Columnas**: Supabase te permitirá mapear las columnas del archivo CSV con las columnas de la tabla. Asegúrate de que las correspondencias sean precisas para que los datos se importen correctamente.

7. **Configuración de Importación**: Dependiendo de la configuración de Supabase, es posible que se te ofrezcan opciones adicionales, como la especificación del delimitador de campos o el formato de fecha y hora. Ajusta estas opciones según sea necesario.

8. **Ejecutar la Importación**: Una vez que hayas configurado todo según tus preferencias, inicia el proceso de importación haciendo clic en el botón "Importar" o "Cargar".

9. **Esperar a que se Complete**: Supabase procesará el archivo CSV y cargará los datos en la tabla. El tiempo necesario dependerá del tamaño del archivo y la cantidad de datos que contenga.

10. **Verificar los Datos**: Una vez que se haya completado la importación, verifica los datos en la tabla para asegurarte de que se hayan cargado correctamente.

¡Y eso es todo! Ahora has llenado con éxito tu tabla en Supabase utilizando un archivo CSV a través del dashboard. Esta opción es ideal para la importación de grandes conjuntos de datos de manera eficiente.

## Uso

Estos datos pueden ser utilizados para crear y poblar tablas en una base de datos PostgreSQL. Asegúrate de respetar las restricciones y las claves únicas definidas en las tablas.

### Búsqueda de Aeropuertos Cercanos a Barcelona

Para obtener una lista de aeropuertos cercanos a Barcelona, con coordenadas geográficas aproximadas de longitud 2.170171 y latitud 41.387077, puedes utilizar la siguiente consulta SQL:

```sql
SELECT *
FROM public.airports
WHERE ST_DWithin(location, ST_SetSRID(ST_Point(2.170171, 41.387077), 4326), 30000);
```

Esta consulta utiliza la función `ST_DWithin` de PostgreSQL para encontrar aeropuertos que se encuentren dentro de un radio de 30,000 metros (30 kilómetros) de las coordenadas especificadas de Barcelona. Los resultados te proporcionarán información detallada sobre los aeropuertos cercanos, incluyendo su ubicación geográfica.


## Contribuciones

Si deseas contribuir o realizar mejoras en estos datos, te animamos a hacerlo. Siéntete libre de enviar una solicitud de extracción (pull request) o informar de problemas (issues) relacionados con los datos.

## Licencia

Este conjunto de datos se proporciona bajo la siguiente licencia: [MIT License](LICENSE.md).
